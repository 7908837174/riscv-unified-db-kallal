
# this single template is used to generate all 29 of the mhpmevent csrs

# <% raise "'hpm_num' must be defined" if hpm_num.nil? %>

<%= "mhpmevent#{hpm_num}h" %>:
  long_name: Machine Hardware Performance Counter <%= hpm_num %> Control, High half
  address: <%= "0x" + (0x720 + hpm_num).to_s(16).upcase %>
  priv_mode: M
  length: 32
  base: 32
  description: |
    Alias of `mhpmevent<%= hpm_num %>`[63:32].
  definedBy: I
  fields:
    <%- if NUM_HPM_COUNTERS <= (hpm_num - 3) -%>
    UNUSED:
      location: 31-0
      description: Event selector is not implemented. Entire CSR reads as 0.
      type: RO
      reset_value: 0
    <%- else -%>
    OF:
      location: 31
      alias: mhpmevent<%= hpm_num %>.OF
      description: |
        Alias of mhpmevent<%= hpm_num %>.OF.
      type: RW-H
      reset_value: UNDEFINED_LEGAL
      definedBy: Sscofpmf
    MINH:
      location: 30
      alias: mhpmevent<%= hpm_num %>.MINH
      description: |
        Alias of mhpmevent<%= hpm_num %>.MINH.
      type: RW
      reset_value: UNDEFINED_LEGAL
      definedBy: Sscofpmf
    SINH:
      location: 29
      alias: mhpmevent<%= hpm_num %>.SINH
      description: |
        Alias of mhpmevent<%= hpm_num %>.SINH.
      type: RW
      reset_value: UNDEFINED_LEGAL
      definedBy: [S, Sscofpmf]
    UINH:
      location: 28
      alias: mhpmevent<%= hpm_num %>.UINH
      description: |
        Alias of mhpmevent<%= hpm_num %>.UINH.
      type: RW
      reset_value: 0
      definedBy: [U, Sscofpmf]
    VSINH:
      location: 27
      alias: mhpmevent<%= hpm_num %>.VSINH
      description: |
        Alias of mhpmevent<%= hpm_num %>.VSINH.
      type: RW
      reset_value: UNDEFINED_LEGAL
      definedBy: [H, Sscofpmf]
    VUINH:
      location: 26
      alias: mhpmevent<%= hpm_num %>.VUINH
      description: |
        Alias of mhpmevent<%= hpm_num %>.VUINH.
      type: RW
      reset_value: UNDEFINED_LEGAL
      definedBy: [H, Sscofpmf]
    <%- if hpm_events.size.bit_length >= 32 -%>
    EVENT:
      location: <%= hpm_events.size.bit_length - 33 %>-0
      description: Event selector for performance counter `mhpmcounter<%= hpm_num %>`.
      alias: mhpmevent<%= hpm_num %>.EVENT[<%= hpm_events.size.bit_length - 1 %>:32]
      type: RW
      reset_value: UNDEFINED_LEGAL
    <%- end -%>
    <%- end -%>
