# yaml-language-server: $schema=csr_schema.json

mideleg:
  long_name: Machine Interrupt Delegation
  address: 0x303
  priv_mode: M
  length: 64
  description: Controls exception delegation from M-mode to HS/S-mode
  definedBy: I
  fields:
    SSI:
      location: 1
      description: |
        *Supervisor Software Interrupt delegation*

        When 1, Supervisor Software interrupts are delegated to HS/S-mode.
      type: RW
      reset_value: 0
    VSSI:
      location: 2
      description: |
        *Virtual Supervisor Software Interrupt delegation*

        When 1, Virtual Supervisor Software interrupts are delegated to HS-mode.
        
        Virtual Supervisor Software Interrupts are always delegated to HS-mode, so this field is read-only one.
      type: RO
      value: 1
      definedBy: H
    MSI:
      location: 3
      description: |
        *Machine Software interrupt delegation*
        
        Since M-mode interrupts cannot be delegated, this field is read-only zero.
      type: RO
      value: 0
    STI:
      location: 5
      description: |
        *Supervisor Timer interrupt delegation*
      
        When 1, Supervisor Timer interrupts are delegated to HS/S-mode.
      type: RW
      reset_value: 0
    VSTI:
      location: 6
      description: |
        *Virutal Supervisor Timer interrupt delegation*

        When 1, Virtual Supervisor Timer interrupts are delegated to HS-mode.
        
        Virtual Supervisor Time Interrupts are always delegated to HS-mode, so this field is read-only one.
      type: RO
      value: 1
      definedBy: H
    MTI:
      location: 7
      description: |
        *Machine Timer interrupt delegation*
        
        Since M-mode interrupts cannot be delegated, this field is read-only zero.
      type: RO
      value: 0
    SEI:
      location: 9
      description: |
        *Supervisor External interrupt delegation*
      
        When 1, Supervisor External interrupts are delegated to HS/S-mode.
      type: RW
      reset_value: 0
    VSEI:
      location: 10
      description: |
        *Virtual Supervisor External interrupt delegation*

        Virtual Supervisor External Interrupts are always delegated to HS-mode, so this field is read-only one.
      type: RO
      value: 1
      definedBy: H
    MEI:
      location: 11
      description: |
        *Machine External interrupt delegation*
        
        Since M-mode interrupts cannot be delegated, this field is read-only zero.
      type: RO
      value: 0
    SGEI:
      location: 12
      description: |
        *Supervisor Guest External Interrupt delegation*
        
        Supervisor Guest External interrupts are always delegated to HS-mode, so this field is read-only one.
      type: RO
      value: 1
      definedBy: H
    LCOFI:
      location: 13
      description: |
        *Local Counter Overflow Interrupt delegation*

        When 1, local counter overflow interrupts are delegated to (H)S-mode.
      type: RW
      reset_value: 0
      definedBy: Sscofpmf
